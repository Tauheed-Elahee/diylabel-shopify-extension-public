{% comment %}
  DIY Label App Embed
  This file is loaded when the app embed is enabled in the theme customizer
{% endcomment %}

{% if app.metafields.diy_label.enabled %}
<script>
  // Set up configuration for the DIY Label embed
  window.DIYLabelEmbedConfig = {
    enabled: {{ app.metafields.diy_label.enabled | json }},
    widget_theme: {{ app.metafields.diy_label.widget_theme | default: 'light' | json }},
    default_radius: {{ app.metafields.diy_label.default_radius | default: 25 | json }},
    show_on_all_products: {{ app.metafields.diy_label.show_on_all_products | default: false | json }},
    app_url: {{ app.url | json }}
  };
</script>

<!-- Load the DIY Label embed script -->
<script src="{{ 'diy-label-embed.js' | asset_url }}" defer></script>

<!-- Optional: Add some basic styling -->
<style>
  #diy-label-widget-container {
    transition: all 0.3s ease;
  }
  
  #diy-label-widget-container iframe {
    transition: height 0.3s ease;
  }
  
  @media (max-width: 768px) {
    #diy-label-widget-container {
      margin: 15px 0;
      padding: 15px;
    }
  }
</style>
{% endif %}